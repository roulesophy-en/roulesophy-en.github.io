---
filename: 2017-08-19-Jekyll-教學（二）：建立網誌標籤.md
layout: post
title: Jekyll 教學（二）：建立網誌標籤
tags: Programming
date: 2017-08-19
comments: true
---
{% raw  %}
繼 [Jekyll-教學（一）：快速開設一個blog]({{ site.baseurl }}/Jekyll-教學（一）：快速開設一個blog) 後，這篇開始建立網誌標籤（tags）。  
標籤是其中一個把文章分門別類的方法，首先把每一篇文章標上不同的標籤，日後只要找尋這一個標籤便可以找到這個分類的文章。而標籤和資料夾的分別是，一篇文章只能放在一個資料夾裡，但是一篇文章可以有多於一個的標籤。

首先，我們在每一篇網誌的 header 上加上 tags 的屬性(`tags: <tag name>`)。

`2017-08-19-new-post.md`
```
---
filename: 2017-08-19-new-post.md
layout: post
title: New Post
tags: TAG1
date: 2017-08-19
---
這是一篇新網誌。一篇網誌是以 `markdown` 寫的。

這是一些常用的 markdown 的格式：

* 我們可以在網誌裡放入超連結：[點我](http://google.com)
* 我們可以放入超連結連到自己的其他網誌： [另一篇網誌]({{ site.baseurl }}/其他文章)  
* 我們可以放入圖片：
	* ![圖片介紹]({{ site.baseurl }}/images/jekyll-logo.png)

另外，我們也可以放入表格：

|標題1|標題2|
|---|---|
|條目1|條目2|
|條目3|條目4|
```

然後，在 `_layouts/posts.html` 上加上顯示標籤的程式碼：




`_layouts/posts.html`

```
---
layout: default
---

<article class="post">
  <h1>{{ page.title }}</h1>

  <div class="entry">
    {{ content }}
  </div>

  <div>
  Tags: 
    {% for tag in page.tags %}
      <a href="/tags#{{ tag }}" class="tag">{{ tag }}</a>&nbsp;
    {% endfor %}
    <p>
  </div>

  <div class="date">
    Written on {{ page.date | date: "%B %e, %Y" }}
  </div>
</article>

```

然後，新增一個檔案名為 `tags.md` 在根目錄中：

`tags.md`
```
---
layout: page
title: Tags
permalink: /tags/
---

<!-- Get the tag name for every tag on the site and set them
to the `site_tags` variable. -->

<!--
{% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
-->

<!-- `tag_words` is a sorted array of the tag names. -->
<!--
{% assign tag_words = site_tags | split:',' | sort %}
-->

<!-- Posts by Tag -->
<div>
  {% for item in (0..site.tags.size) %}{% unless forloop.last %}
    {% capture this_word %}{{ tag_words[item] }}{% endcapture %}
    <h2 id="{{ this_word | cgi_escape }}">{{ this_word }}</h2>
    {% for post in site.tags[this_word] %}{% if post.title != null %}
      <div>
        <span style="float: left;">
          <a href="{{ post.url }}">{{ post.title }}</a>
        </span>
        <span style="float: right;">
          {{ post.date | date_to_string }}
        </span>
      </div>
      <div style="clear: both;"></div>
    {% endif %}{% endfor %}
  {% endunless %}{% endfor %}
</div>
```

最後，在 `_layouts/default.html` 中加入連結到 tag page 的超連結：

`_layouts/default.html`
```
<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <nav>
            <a href="{{ site.baseurl }}/">Blog</a>
            <a href="{{ site.baseurl }}/tags">Tags</a>
            <a href="{{ site.baseurl }}/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
        </footer>
      </div>
    </div>

    {% include analytics.html %}
  </body>
</html>
```
{% endraw %}
